{
  "antigravity": {
    "project": "economics",
    "active_sessions": {
      "17963829443458868753": {
        "title": "Fix_TD110_Phantom_Tax",
        "initial_mission": "Couple Tax Collection and Revenue Recording to prevent Phantom Tax.\n\n[File Content: design/specs/TD1..."
      },
      "14380937838417142870": {
        "title": "[WO-104] Regime Strategy Pattern Refactoring",
        "initial_mission": "Synchronized from server"
      },
      "12570818305275603561": {
        "title": "Remediation_TD116_117_118",
        "initial_mission": "Implement the core structural and economic integrity fixes for TD-116 (Inheritance Leaks), TD-117 (D..."
      },
      "6037925106170011541": {
        "title": "Track_Alpha_Redemption",
        "initial_mission": "Fix the Tick 1 leak (-99,680) and update M2 calculation. Use the generated spec for logic details. R..."
      },
      "11698650339345650580": {
        "title": "Track_Bravo_Remediation",
        "initial_mission": "Fix Phantom Tax (TD-110) by enforcing Settle->Record and formalize IBankService (TD-119). Refer to t..."
      },
      "15105794138622903483": {
        "title": "Remediation_TD116_117_118",
        "initial_mission": "Implement core structural fixes (DTO Decisions, Sacred Sequence Commerce, Inheritance residue).\n\n[Fi..."
      },
      "16308090739982688151": {
        "title": "Hotfix_AI_Engine_NameError",
        "initial_mission": "Fix the NameError in `simulation/decisions/ai_driven_household_engine.py` around L331. The variable ..."
      },
      "11662040635592794647": {
        "title": "Hotfix_Correction_Magic_Numbers",
        "initial_mission": "PR Review result: REQUEST_CHANGES. Fix the following:\n1. [ai_driven_household_engine.py:L356]: Repla..."
      },
      "1538673354517803812": {
        "title": "Fix Housing Money Leak",
        "initial_mission": "Execute work order WO-121 to fix the 320.00 money leak in Housing System...."
      },
      "5263205476454235202": {
        "title": "WO-122: Test Directory Refactoring",
        "initial_mission": "# Work Order: WO-122 - Test Directory Refactoring\n\n**Phase:** 2\n**Priority:** HIGH\n**Prerequisite:** None\n\n## 1. Problem Statement\nThe `tests/` directory has grown organically, resulting in a flat structure that mixes unit tests, integration tests, API tests, and standalone verification scripts. This makes navigation difficult, test purposes unclear, and maintenance cumbersome. Duplicate and deprecated test files exist, creating confusion and redundancy.\n\n## 2. Objective\nRefactor the `tests/` directory into a clean, hierarchical structure based on testing scope (unit, integration, api, e2e). Deprecate old test files and move non-test verification scripts to a more appropriate location.\n\n## 3. Target Metrics\n| Metric | Current | Target |\n|---|---|---|\n| Test Directory Root File Count | >80 | <10 |\n| Clarity of Test Purpose | Low | High |\n| Redundant Test Files | >3 pairs | 0 |\n| Verification Scripts in `tests/` | >20 | 0 |\n\n## 4. Implementation Plan\n\nJules shall execute the following file move, merge, and delete operations.\n\n### Track A: Move Standalone Verification Scripts\n\n**Action:** Move all `verify_*.py` and other standalone scripts from `tests/` to a new `scripts/verification/` directory. After moving, update the `sys.path` modification in each script to be robust.\n\n**Example `sys.path` fix:**\n```python\n# Replace this:\n# sys.path.append(os.path.abspath(os.path.join(os.path.dirname(__file__), \"..\")))\n\n# With this:\nsys.path.append(str(Path(__file__).resolve().parent.parent))\n```\n\n**Files to Move:**\n- `tests/verify_*.py` (all files starting with `verify_`)\n- `tests/test_wo065_minimal.py`\n- `tests/test_e2e_playwright.py` -> **Move to `tests/e2e/` instead.**\n\n### Track B: Consolidate Duplicate/Deprecated Tests\n\n**Action:** Merge the `_new.py` test files into their original counterparts and delete the `_new.py` and other deprecated files. The `_new` files contain the more modern DTO-based approach and should be preferred.\n\n1.  **AI Training Manager:**\n    -   Delete `tests/test_ai_training_manager.py`.\n    -   Rename `tests/test_ai_training_manager_new.py` to `tests/test_ai_training_manager.py`.\n2.  **Firm Decision Engine:**\n    -   Delete `tests/test_firm_decision_engine.py`.\n    -   Rename `tests/test_firm_decision_engine_new.py` to `tests/test_firm_decision_engine.py`.\n3.  **Household Decision Engine:**\n    -   Delete `tests/test_household_decision_engine_multi_good.py`.\n    -   Rename `tests/test_household_decision_engine_new.py` to `tests/test_household_decision_engine.py`.\n\n### Track C: Restructure `tests/` Directory\n\n**Action:** Create the new directory structure and move the remaining test files according to their scope.\n\n**New Structure:**\n```\ntests/\n├── unit/\n│   ├── ai/\n│   ├── components/\n│   ├── decisions/\n│   ├── domain/\n│   ├── systems/\n│   └── utils/\n├── integration/\n│   ├── ai/\n│   ├── features/\n│   ├── finance/\n│   ├── government/\n│   ├── scenarios/\n│   └── systems/\n├── api/\n├── e2e/\n└── goldens/\n```\n\n**Move Plan:**\n\n1.  **Create Directories:** Create the structure outlined above.\n2.  **Move existing test subdirectories** into `tests/unit/`:\n    -   `tests/agents/` -> `tests/unit/agents/`\n    -   `tests/components/` -> `tests/unit/components/`\n    -   `tests/modules/` -> `tests/unit/modules/`\n    -   `tests/systems/` -> `tests/unit/systems/`\n    -   `tests/utils/` -> `tests/unit/utils/`\n    -   `tests/diagnosis/` -> `tests/integration/diagnosis/`\n3.  **Move individual files:**\n    - **Unit tests -> `tests/unit/`**:\n        - `test_base_agent.py` -> `tests/unit/agents/`\n        - `test_bank.py` -> `tests/unit/agents/`\n        - `test_corporate_manager.py` -> `tests/unit/decisions/`\n        - `test_household_marginal_utility.py` -> `tests/unit/decisions/`\n        - `test_interest_sensitivity.py` -> `tests/unit/decisions/`\n        - `test_purity_gate.py` -> `tests/unit/decisions/`\n        - `test_learning_tracker.py` -> `tests/unit/ai/`\n        - `test_ai_training_manager.py` (after rename) -> `tests/unit/ai/`\n        - `test_household_system2.py` -> `tests/unit/ai/`\n        - `test_socio_tech.py` -> `tests/unit/ai/`\n        - `test_wo048_breeding.py` -> `tests/unit/ai/`\n        - `test_marketing_roi.py` -> `tests/unit/components/`\n        - `test_repository.py` -> `tests/unit/db/`\n        - `test_logger.py` -> `tests/unit/utils/`\n    - **Integration tests -> `tests/integration/`**:\n        - `test_engine.py` -> `tests/integration/`\n        - `test_decision_engine_integration.py` -> `tests/integration/ai/`\n        - `test_firm_decision_engine.py` (after rename) -> `tests/integration/ai/`\n        - `test_household_decision_engine.py` (after rename) -> `tests/integration/ai/`\n        - `test_household_ai.py` -> `tests/integration/ai/`\n        - `test_household_ai_consumption.py` -> `tests/integration/ai/`\n        - `test_ai_driven_firm_engine.py` -> `tests/integration/ai/`\n        - `test_government_ai_logic.py` -> `tests/integration/government/`\n        - `test_phase*.py` (all) -> `tests/integration/scenarios/`\n        - `test_stock_market.py` -> `tests/integration/finance/`\n        - `test_portfolio_integration.py` -> `tests/integration/finance/`\n        - `test_finance_bailout.py` -> `tests/integration/finance/`\n        - `test_loan_market.py` -> `tests/integration/finance/`\n        - `test_tax_collection.py`, `test_tax_incidence.py` -> `tests/integration/government/`\n        - `test_fiscal_policy.py`, `test_government_fiscal_policy.py`, `test_government_tax.py` -> `tests/integration/government/`\n        - `test_markets_v2.py`, `test_order_book_market.py` -> `tests/integration/systems/`\n    - **API tests -> `tests/api/`**:\n        - `test_app.py`\n        - `test_api_history.py`\n        - `test_api_extensions.py`\n        - Move contents of `tests/api/` directory into the new root `tests/api/` directory.\n\n## 5. Verification\n- Run `pytest` and ensure all tests pass after the refactoring.\n- Manually execute one of the moved verification scripts (e.g., `python scripts/verification/verify_gold_standard.py`) to ensure its `sys.path` logic is corrected and it runs without import errors.\n\n## 6. Jules Assignment\n| Track | Task | Files to Modify |\n|---|---|---|\n| A | Move verification scripts | `tests/verify_*.py`, `tests/test_wo065_minimal.py` |\n| B | Consolidate duplicate tests | `tests/test_*_new.py`, `tests/test_*.py` |\n| C | Restructure all other test files | All remaining files in `tests/` |\n"
      },
      "18290535406723367891": {
        "title": "Fix Asset Leak in DemographicManager",
        "initial_mission": "1. simulation/systems/demographic_manager.py의 process_births 메서드를 수정하세요. 2. 신생아에게 초기 자금(initial_gift..."
      },
      "6297829752984181635": {
        "title": "Enforce DTO Purity in Decision Engines",
        "initial_mission": "1. simulation/decisions/ai_driven_household_engine.py를 수정하세요. 2. _make_decisions_internal 메서드 등에서 co..."
      },
      "9950543563418953925": {
        "title": "WO-122: Test Suite Cleanroom",
        "initial_mission": "현재 프로젝트의 tests/ 폴더에 있는 모든 테스트를 실행하고, 실패하는 테스트들을 분석하여 DTO Purity Gate 등 최신 아키텍처 변경 사항에 맞게 코드를 수정하세요. ..."
      },
      "6671994894046104991": {
        "title": "Master Re-entry: WO-122 & WO-123 Implementation",
        "initial_mission": "1. design/specs/MASTER_PLAN_REENTRY.md 마스터 플랜을 정독하고, Phase 1부터 Phase 4까지 체크리스트 순서대로 작업을 수행하세요. 2. 특히..."
      },
      "12345678901234567890": {
        "title": "REMEDIATE: Track Alpha & Purity Recovery",
        "initial_mission": "Execute WO-124 to fix the Tick 1 asset leak (TD-115) and restore DTO Purity (TD-117). This involves refactoring DemographicManager and Household update_needs logic."
      },
      "655439775447392505": {
        "title": "Fix: Track Alpha & Purity Remediation",
        "initial_mission": "# Work Order: Alpha & Purity Remediation (WO-124)\n\n## 1. Objective\nRemediate the critical asset leak (TD-115) and DTO Purity Gate regression (TD-117) as identified in the `Analysis Report: Track Alpha & DTO Purity Recovery`.\n\n## 2. Tasks\n\n### Task 1: Fix TD-115 (Initialization Order)\n**Status:** I (Antigravity) have pre-patched `initializer.py`. Jules must verify this fix or adjust if initialization logic changes.\n- **File:** `simulation/initialization/initializer.py`\n- **Logic:** Ensure `baseline_money_supply` is recorded immediately after `Bootstrapper.inject_initial_liquidity` and BEFORE `Bootstrapper.force_assign_workers` or any `agent.update_needs` calls.\n\n### Task 2: Fix TD-117 (DTO Purity - Demographic Manager)\n- **File:** `simulation/systems/demographic_manager.py`\n- **Remediation:**\n    - Remove direct calls to `parent._sub_assets()`.\n    - Inject `SettlementSystem` into the `DemographicManager` via `__init__` or pass it to `process_births`.\n    - Use `settlement_system.transfer(parent, newborn, amount, \"BIRTH_GIFT\")` to handle asset transfers.\n    - Ensure `newborn` is registered as a financial entity before transfer.\n\n### Task 3: Fix TD-117 (DTO Purity - Household Lifecycle)\n- **File:** `simulation/core_agents.py`\n- **Remediation:**\n    - Modify `update_needs` to NOT pass `self` into the `LifecycleContext`.\n    - If `BioComponent` needs state data, create a `HouseholdStateDTO` or a dedicated `LifecycleDTO` and pass that instead.\n    - Update `BioComponent` to accept the DTO.\n\n### Task 4: Verify positive drift (+320.00)\n- **Investigation:** After applying Task 1-3, run a 1-tick simulation and check the `MONEY_SUPPLY_CHECK` log.\n- **Remediation:** If the +320.00 drift persists, search for any direct `_add_assets` calls in legacy components (e.g., `RefluxSystem.distribute` or `HousingSystem.apply_homeless_penalty`) and ensure they are accounted for or converted to transactions.\n\n## 3. Definition of Done\n- `MONEY_SUPPLY_CHECK` shows `Delta: 0.0000` at Tick 1.\n- No direct agent instances are passed to decision or lifecycle logic.\n- All asset movements are handled via the `SettlementSystem` or official transaction protocols.\n"
      }
    },
    "completed_sessions": {
      "10062983030902175423": "WO-121-R2: Newborn Initialization Fix (Config Externalization) - MERGED 2026-01-26",
      "7991854182599200102": "WO-111: Final Harvest Verification - COMPLETED 2026-01-22",
      "7404681051157828171": "WO-110: Firm Logic Sequential Fix - COMPLETED 2026-01-22",
      "3384306728658055913": "WO-109: Phase 23 Verification - COMPLETED 2026-01-22",
      "13719265400177585538": "WO-106: Economic Integrity Fixes - COMPLETED 2026-01-22",
      "211410197670174169": "WO-107: Structural Decoupling - COMPLETED 2026-01-22",
      "12689451847182208697": "WO-108: DTO Parity Alignment - COMPLETED 2026-01-22",
      "5430223683756935913": "WO-103 Phase 2: Sacred Sequence - MERGED 2026-01-21",
      "2863466737400943142": "WO-103 Phase 3: DTO Conversion - MERGED 2026-01-21",
      "14531274622967209947": "WO-053: Industrial Revolution Implementation - MERGED 2026-01-21",
      "5237484117606800056": "WO-092: Household Facactor (TD-075) - MERGED 2026-01-21",
      "7372223621436217608": "Phase 29: Implementation of 'The Great Depression' Scenario - MERGED 2026-01-20",
      "10501622868201374933": "Finance-Config-v3: Hardcoded Params Migration - MERGED 2026-01-20",
      "10084796152980908088": "Domain-Logic-v2: Altman Z-Score Delegation - MERGED 2026-01-20",
      "5101605085916374615": "Infra-Cleanup-v2: Pathlib & Doc Sanitization - MERGED 2026-01-20",
      "9966767717181422022": "TD-067-Phase-A: Firm Logic Consolidation - MERGED 2026-01-20",
      "18090137123816755263": "WO-083C-P3-REWORK: Fix Regression & Migrate Test - MERGED 2026-01-20",
      "16457788477972542743": "TD-065 Household God Class Refactoring - COMPLETED 2026-01-20",
      "13554214772414011208": "TD-066 Simulation God Class Refactor - COMPLETED 2026-01-20",
      "8111922141870240162": "WO-083C-P1: Test Migration (LOW Risk) - MERGED 2026-01-20",
      "11202564815416347618": "WO-083C-P2: Test Migration (MEDIUM Risk) - MERGED 2026-01-20",
      "16754935071282510850": "WO-081: Bank Interface Segregation - MERGED 2026-01-19",
      "15965755950889487504": "WO-082: Golden Loader Infrastructure - MERGED 2026-01-19",
      "939740966705037931": "AUDIT-ECONOMIC-V2 - NOT_FOUND_ON_SERVER",
      "5165098539568103978": "AUDIT-PARITY-V2 - NOT_FOUND_ON_SERVER",
      "536275271873576648": "AUDIT-STRUCTURAL-V2 - NOT_FOUND_ON_SERVER",
      "6487612405285359418": "WO-112-Settlement-System-Implementation - NOT_FOUND_ON_SERVER",
      "5173331688343789029": "WO-113-Sovereign-Debt - NOT_FOUND_ON_SERVER",
      "2513104936953701906": "WO-114_DTO_Purity_Gate_Completion - NOT_FOUND_ON_SERVER",
      "16428660261459271791": "WO-115_Great_Reset_Stability_Verification - NOT_FOUND_ON_SERVER",
      "2810292832470995059": "WO-116_Asset_Mutation_Cleanup - NOT_FOUND_ON_SERVER",
      "16199040358203801629": "WO-116_Strict_Mode_Refactor - NOT_FOUND_ON_SERVER",
      "17585728839844634482": "WO-116_Strict_Mode_Refactor - NOT_FOUND_ON_SERVER",
      "3577359281312705663": "WO-116_Stop_Money_Leaks - NOT_FOUND_ON_SERVER",
      "842822366014658805": "WO-116_Stop_Money_Leaks_V2 - NOT_FOUND_ON_SERVER",
      "15617154995968631919": "WO-116_Stop_Money_Leaks_V2 - NOT_FOUND_ON_SERVER",
      "16229951468194679232": "WO-116_PhaseA_Component_Purity - NOT_FOUND_ON_SERVER",
      "8635535602606687900": "WO-116_PhaseA_Component_Purity - NOT_FOUND_ON_SERVER",
      "2873398772113156484": "WO-116_PhaseB_Normalization - NOT_FOUND_ON_SERVER",
      "15885642735639860418": "WO-116_Leak_Hunter - NOT_FOUND_ON_SERVER",
      "12327123477253940959": "WO-116_Leak_Hunter - NOT_FOUND_ON_SERVER",
      "14525228153841719624": "WO-116_Leak_Hunter - NOT_FOUND_ON_SERVER",
      "6817026115371816099": "WO-116_Leak_Hunter - NOT_FOUND_ON_SERVER",
      "7165644413044139156": "WO-116_Root_Cause_Profiler - NOT_FOUND_ON_SERVER",
      "13173314960969369906": "WO-116_Zero_Sum_Final_Sprint - NOT_FOUND_ON_SERVER",
      "7958702835499376780": "WO-116_Zero_Sum_Final_Sprint - NOT_FOUND_ON_SERVER",
      "17533533089149661785": "WO-117_Zero_Sum_Victory - NOT_FOUND_ON_SERVER",
      "17999366240372192024": "Fix_TD105_Positive_Drift - NOT_FOUND_ON_SERVER",
      "7254945996439639761": "Fix_TD105_Positive_Drift - NOT_FOUND_ON_SERVER",
      "3733298269963063063": "Fix_TD106_Bankruptcy_Ledger - NOT_FOUND_ON_SERVER",
      "12428961078552329384": "Fix_TD112_Inheritance_Rounding - NOT_FOUND_ON_SERVER",
      "11881942992589980843": "Fix_TD109_Sacred_Sequence - NOT_FOUND_ON_SERVER"
    }
  }
}