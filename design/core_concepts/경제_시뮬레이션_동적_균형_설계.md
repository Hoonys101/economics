### 경제 시뮬레이션 동적 균형 및 성장 프로젝트 제안 (v4.1 - R&D 모델 수정)

#### 1. 프로젝트 철학 (v4 계승)

*   **원칙 1: 욕구 중심의 동적 의사결정:** 가계의 행동은 내재된 욕구의 흐름에 따라 결정된다.
*   **원칙 2: 자산 순환을 위한 내재적 비용과 인센티브:** 기업의 행동은 비용 회피와 성장 기회 포착이라는 현실적인 동기에 의해 결정된다.

#### 2. 핵심 개선 목표 (v4 계승)

1.  **가계 행동의 현실화:** '배고픔'이 '구직 활동'으로 이어지는 자연스러운 의사결정 구현.
2.  **기업 경영의 현실화:** '재고 관리 비용'과 '성장 기회(R&D)' 사이에서 최적의 선택을 하는 경영 활동 구현.
3.  **자립적 동적 평형 시스템:** 외부 개입 없이 스스로 순환하고 성장하는 경제 생태계 구축.

#### 3. 세부 실행 계획 (R&D 메커니즘 수정)

#### Phase 1: 가계의 동적 구직 의사결정 모델 (욕구 연동)

*   **작업 1.1: `Household.update_needs` 로직 수정 (`simulation/agents.py`)**
    *   **내용:** `survival_need`가 일정 임계치를 넘어서면, 그 초과분에 비례하여 `labor_need`가 직접적으로 증가하는 로직을 추가한다. "배고픔이 노동 의지를 자극"하는 핵심 메커니즘이다.
    *   **필요 설정:** `config.py`에 `SURVIVAL_TO_LABOR_NEED_FACTOR` (생존 욕구가 노동 욕구로 전환되는 비율) 변수 추가.

*   **작업 1.2: `HouseholdDecisionEngine` 로직 전면 수정 (`simulation/decisions/household_decision_engine.py`)**
    *   **내용:** 노동 공급을 결정하는 기준을 '실업 기간'(`unemployed_ticks`)에서 **`labor_need`의 수준**으로 변경한다. `labor_need`가 높을수록 더 공격적으로 희망 임금을 낮추도록 로직을 수정한다. (예: `희망임금 = 기본임금 * (WAGE_DECAY_RATE ** labor_need)`)
    *   **결과:** `unemployed_ticks` 속성은 더 이상 필요 없으므로 `Household` 클래스와 `engine.py`의 관련 로직에서 **제거**하여 코드를 간결화한다.

#### Phase 2: 기업의 현실적 R&D 투자 및 성장 모델

*   **작업 2.1: 재고 보유 비용(Inventory Holding Cost) 도입 (v4와 동일)**
    *   **내용:** 기업이 보유한 재고 총량에 비례하여 '재고 유지비'를 부과하여 과잉 생산을 억제.
    *   **담당 파일:** `simulation/firms.py`, `config.py`.

*   **작업 2.2 (수정): R&D를 '지식 노동 시장'으로 모델링**
    *   **핵심 아이디어:** R&D 투자는 돈이 증발하는 것이 아니라, **고급 기술을 가진 가계(연구원)에게 임금으로 지불**되는 형태로 구현한다. 이로써 R&D 자금은 경제 시스템 안에서 계속 순환한다.
    *   **담당 파일 및 수정 내역:**
        1.  **`config.py` 설정 추가:**
            *   `RND_INVESTMENT_RATE`: 기업이 이윤의 몇 %를 R&D에 투자할지 결정하는 비율.
            *   `RND_PRODUCTIVITY_MULTIPLIER`: R&D에 성공했을 때 생산성이 얼마나 증가하는지에 대한 계수.
            *   `RND_WAGE_PREMIUM`: 일반 노동 대비 R&D 노동에 지불하는 추가 임금 비율.
        2.  **`Skill` 종류 확장 (`simulation/agents.py`):**
            *   가계의 `skills` 딕셔너리에 `"research"`와 같은 새로운 기술 유형을 추가하여, 일반 노동과 지식 노동을 구분할 수 있는 기반을 마련한다.
        3.  **`FirmDecisionEngine` 로직 수정 (`simulation/decisions/firm_decision_engine.py`):**
            *   이익이 발생한 기업은 `RND_INVESTMENT_RATE`에 따라 R&D 투자를 결정한다.
            *   R&D를 결정한 기업은, 일반 `labor_market`에 **더 높은 임금(`RND_WAGE_PREMIUM` 적용)을 제시하는 특별한 노동 수요(BUY) 주문**을 생성한다. 이 주문은 "연구원 구함" 공고와 같다.
        4.  **`HouseholdDecisionEngine` 로직 수정 (`simulation/decisions/household_decision_engine.py`):**
            *   높은 `growth_need`를 가졌거나, `"research"` 스킬을 보유한 가계는 노동 시장에서 더 높은 임금을 제시하는 R&D 일자리를 우선적으로 탐색하고 지원(SELL 주문)하도록 로직을 추가한다.
        5.  **`_process_transactions` 로직 수정 (`simulation/engine.py`):**
            *   R&D 노동 거래가 성사되었을 경우, 해당 기업의 `productivity_factor`가 고용된 가계의 스킬 수준과 `RND_PRODUCTIVITY_MULTIPLIER`에 비례하여 증가하도록 처리한다.

#### 4. 기대 효과 (v4 대비 강화)

*   **자금 증발 문제 해결:** R&D 투자 자금이 연구원의 임금으로 지급되어 경제 시스템 내에서 완벽하게 순환한다.
*   **기존 시스템과의 유기적 통합:** 새로운 '시장'을 만드는 대신, 기존 `labor_market`을 활용하되 '임금 프리미엄'과 '요구 스킬'이라는 조건만 추가하여 시스템 복잡도를 최소화하고 유기적으로 기능을 통합한다.
*   **더욱 현실적인 성장 모델:** 기업의 성장이 '돈'만으로 이루어지는 것이 아니라, '우수한 인재'를 유치하여 기술을 발전시키는 현실적인 과정을 모사하게 된다. 이는 가계의 '성장 욕구' 및 '학습'과도 자연스럽게 연결될 수 있는 확장성을 제공한다.