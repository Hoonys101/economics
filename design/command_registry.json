{
  "gemini": {
    "worker": "spec",
    "instruction": "Draft a technical specification for TD-066: Simulation God Class Refactoring. Goal: Decompose the 900+ LoC Simulation class (simulation/engine.py) into specialized managers following the SoC (Separation of Concerns) principle. Recommended Components: 1) TickScheduler: Handles the time loop and system update sequencing. 2) WorldState: Manages agent registries and global snapshots. 3) PersistenceManager: Handles DB flushing and serialization. 4) AgentLifecycleManager: Manages agent creation, death, and IPO/SEO triggers. Strict Requirements: Maintain backward compatibility with app.py/main.py entry points, use DTOs for inter-component state passing, and ensure 100% test pass for Phase 29 scenarios. Follow design/manuals/spec_writer.md.",
    "context": [
      "simulation/engine.py",
      "simulation/core_agents.py",
      "design/TECH_DEBT_LEDGER.md",
      "design/project_structure.md",
      "design/specs/TD-065_Household_Refactor_Spec.md"
    ],
    "output": "design/specs/TD-066_Simulation_Refactor_Spec.md",
    "model": "pro"
  },
    "jules": {
        "command": "create",
        "title": "TD-066: Simulation God Class Refactor",
        "instruction": "Execute TD-066: Decompose 'simulation/engine.py' into 'WorldState', 'TickScheduler', and 'ActionProcessor' as per Spec. Use 'tests/test_engine.py' for verification. Ensure 100% backward compatibility of the 'Simulation' facade.",
        "context": [
            "design/specs/TD-066_Simulation_Refactor_Spec.md",
            "simulation/engine.py",
            "tests/test_engine.py",
            "tests/conftest.py"
        ],
        "session_id": null
    },
  "git_review": {
    "branch": "refactor-household-god-class-16457788477972542743",
    "instruction": "Analyze this PR. Check behavior logic and test coverage."
  },
  "merge": {
    "branch": "refactor-household-god-class-16457788477972542743"
  },
  "harvest": {}
}
