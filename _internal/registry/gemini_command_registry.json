{
  "_meta": {
    "version": "1.0"
  },
  "missions": {
    "analyze-gov-structure": {
      "key": "analyze-gov-structure",
      "title": "Structural Analysis: Government Singleton vs List",
      "type": "gemini",
      "instruction_raw": "Analyze the usage of `government` (singleton) versus `governments` (list) in `WorldState` and `Simulation`.\n\n**Context:**\n- `WorldState` defines `self.governments: List[Government] = []`.\n- `TickOrchestrator` and tests often access `state.government`.\n- Determining how `state.government` is currently populated (likely dynamic injection in `Simulation`).\n\n**Objective:**\n1. Identify where `state.government` is being set (e.g., `initializer.py`, `simulation.py`).\n2. Propose a structural fix: either add a proper `@property` to `WorldState` or refactor all consumers to use `governments[0]`.\n3. Assess impact on `TickOrchestrator`, `SimulationState` DTO, and tests.",
      "status": "pending",
      "created_at": "",
      "command": null,
      "file_path": null,
      "wait": false,
      "session_id": null,
      "worker": "spec",
      "context_files": [
        "simulation/world_state.py",
        "simulation/engine.py",
        "simulation/initialization/initializer.py",
        "simulation/orchestration/tick_orchestrator.py"
      ],
      "output_path": "design/3_work_artifacts/spec/STRUCT_GOV_FIX_SPEC.md",
      "model": null,
      "audit_requirements": null
    },
    "analyze-deprecations": {
      "key": "analyze-deprecations",
      "title": "Hygiene Analysis: Deprecation Cleanup (Track B)",
      "type": "gemini",
      "instruction_raw": "Analyze the usage of deprecated components and design a refactoring plan.\n\n**Deprecated targets:**\n1. `Government.collect_tax` -> `settlement.settle_atomic`\n2. `HouseholdFactory` (old) -> `simulation.factories.household_factory`\n3. `StockOrder` -> `CanonicalOrderDTO`\n\n**Objective:**\n1. Review the provided context files to understand how deprecated aliases are used.\n2. For each category, provide a specific `sed` or refactoring pattern.\n3. Identify any logic changes required (e.g., parameter differences between old/new factories).\n4. Output a `MISSION_spec` for Jules to execute the cleanup.",
      "status": "pending",
      "created_at": "",
      "command": null,
      "file_path": null,
      "wait": false,
      "session_id": null,
      "worker": "spec",
      "context_files": [
        "tests/unit/agents/test_government.py",
        "tests/integration/test_government_tax.py",
        "tests/simulation/factories/test_agent_factory.py",
        "tests/unit/test_household_factory.py",
        "tests/unit/systems/test_demographic_manager_newborn.py",
        "tests/unit/modules/demographics/test_event_consistency.py",
        "tests/system/test_audit_integrity.py",
        "tests/unit/test_market_adapter.py",
        "tests/unit/test_stock_market.py"
      ],
      "output_path": "design/3_work_artifacts/spec/DEPRECATION_CLEANUP_SPEC.md",
      "model": null,
      "audit_requirements": null
    }
  }
}