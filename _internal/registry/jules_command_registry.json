{
  "_meta": {
    "version": "1.0"
  },
  "missions": {
    "MISSION_fix_wave5_regressions": {
      "key": "MISSION_fix_wave5_regressions",
      "title": "Wave 5: Critical Regressions Fix (Firm AI & Politics Orchestrator)",
      "type": "jules",
      "instruction_raw": "Wave 5 \uba38\uc9c0 \ud6c4 \ubc1c\uc0dd\ud55c 2\uac00\uc9c0 \ud575\uc2ec \uc5d0\ub7ec\ub97c \uc218\uc815\ud558\uc2ed\uc2dc\uc624.\n\n1. **`firm_ai.py` (calculate_reward)**: `current_assets`\uc640 `prev_assets`\uac00 `MultiCurrencyWalletDTO`\uc778 \uacbd\uc6b0\ub97c \ucc98\ub9ac\ud558\uc9c0 \ubabb\ud574 `TypeError`\uac00 \ubc1c\uc0dd\ud569\ub2c8\ub2e4. `isinstance(raw, MultiCurrencyWalletDTO)` \uccb4\ud06c\ub97c \ucd94\uac00\ud558\uc5ec `.balances.get(DEFAULT_CURRENCY, 0)`\uc744 \uc548\uc804\ud558\uac8c \ucd94\ucd9c\ud558\uc2ed\uc2dc\uc624.\n2. **`orchestrator.py` (calculate_political_climate)**: \uc2dc\uc2a4\ud15c \ud14c\uc2a4\ud2b8(`TestPhase29Depression`)\uc5d0\uc11c Mock \uc5d0\uc774\uc804\ud2b8\ub97c \uc0ac\uc6a9\ud560 \ub54c `total_weight`\uac00 `MagicMock`\uc774 \ub418\uc5b4 `total_weight > 0` \ube44\uad50 \uc2dc \uc5d0\ub7ec\uac00 \ubc1c\uc0dd\ud569\ub2c8\ub2e4. `weight` \ucd94\ucd9c \uc2dc Mock \uc5ec\ubd80\ub97c \ud655\uc778\ud558\uac70\ub098, `total_weight` \uc5f0\uc0b0 \uc2dc `float(weight)` \ubcc0\ud658 \ub4f1\uc744 \ud1b5\ud574 \ubc29\uc5b4 \ub85c\uc9c1\uc744 \ucd94\uac00\ud558\uc2ed\uc2dc\uc624.\n3. **`test_phase29_depression.py`**: \uac00\uacc4 Mock \uc0dd\uc131\ubd80\uc5d0\uc11c `political_weight` \ub4f1\uc744 \uae30\ubcf8\uac12(1.0)\uc73c\ub85c \uc124\uc815\ud558\ub3c4\ub85d \uc5c5\ub370\uc774\ud2b8\ud558\uc5ec \uadfc\ubcf8\uc801\uc778 Mock \ubd88\uc77c\uce58\ub97c \ud574\uacb0\ud558\uc2ed\uc2dc\uc624.\n\n\uc218\uc815 \ud6c4 `pytest tests/system/test_phase29_depression.py` \ubc0f `python scripts/operation_forensics.py`\ub97c \uc2e4\ud589\ud558\uc5ec \ubb34\uacb0\uc131\uc744 \uac80\uc99d\ud558\uc2ed\uc2dc\uc624.",
      "command": "create",
      "file_path": null,
      "wait": false,
      "session_id": null,
      "worker": null,
      "context_files": [],
      "output_path": null,
      "model": null,
      "audit_requirements": null
    },
    "MISSION_wave5_runtime_stabilization": {
      "key": "MISSION_wave5_runtime_stabilization",
      "title": "Wave 5: Runtime Stabilization & Error Reduction Phase 3",
      "type": "jules",
      "instruction_raw": "MISSION_wave5_runtime_stabilization_SPEC.md\ub97c \ubc14\ud0d5\uc73c\ub85c \ub7f0\ud0c0\uc784 \uc624\ub958\ub97c 50\uac74 \ubbf8\ub9cc\uc73c\ub85c \uc904\uc774\uc2ed\uc2dc\uc624. \ud1b5\ud654\ub7c9 \ub3d9\uae30\ud654 \ubc0f \ube44\ud65c\uc131 \uc5d0\uc774\uc804\ud2b8 \ucc98\ub9ac\uac00 \ud575\uc2ec\uc785\ub2c8\ub2e4.",
      "command": "create",
      "file_path": "c:/coding/economics/gemini-output/spec/MISSION_wave5_runtime_stabilization_SPEC.md",
      "wait": false,
      "session_id": null,
      "worker": null,
      "context_files": [],
      "output_path": null,
      "model": null,
      "audit_requirements": null
    },
    "WO-WAVE5-MONETARY-AUDIT": {
      "key": "WO-WAVE5-MONETARY-AUDIT",
      "title": "Wave 5 Monetary Audit & Leakage Diagnosis",
      "type": "gemini",
      "instruction_raw": "Analyze the 2.6B penny leakage identified in reports/diagnostic_refined.md. Pinpoint why Expected money supply (authorized changes) diverges from Current wallet summation. Identify the root cause of the 102M jump in Tick 1. Verify if SettlementSystem, TickOrchestrator, or WorldState logic restoration introduced accounting gaps. Provide a fix specification for Jules.",
      "command": null,
      "file_path": null,
      "wait": false,
      "session_id": null,
      "worker": "audit",
      "context_files": [
        "reports/diagnostic_refined.md",
        "simulation/world_state.py",
        "simulation/orchestration/tick_orchestrator.py",
        "modules/government/components/monetary_ledger.py",
        "simulation/systems/settlement_system.py",
        "simulation/agents/government.py",
        "simulation/systems/central_bank_system.py",
        "simulation/orchestration/phases/monetary_processing.py",
        "simulation/orchestration/phases/transaction.py",
        "modules/system/constants.py",
        "scripts/operation_forensics.py"
      ],
      "output_path": "gemini-output/spec/MISSION_wave5_monetary_audit_SPEC.md",
      "model": null,
      "audit_requirements": null
    },
    "WO-WAVE5-MONETARY-FIX": {
      "key": "WO-WAVE5-MONETARY-FIX",
      "title": "Wave 5: Final Monetary Integrity & Audit Restoration",
      "type": "jules",
      "instruction_raw": "MISSION_wave5_monetary_audit_SPEC.md\uc758 \ubd84\uc11d \uacb0\uacfc\ub97c \ubc14\ud0d5\uc73c\ub85c \ud654\ud3d0 \uc815\ud569\uc131(Accounting Integrity)\uc744 \ubcf5\uad6c\ud558\uc2ed\uc2dc\uc624.\n\n1. **Ghost Money \ud574\uacb0**: `central_bank_system.py`\uc5d0\uc11c OMO/LLR \ub4f1\uc73c\ub85c \ubc1c\uc0dd\ud558\ub294 M0 \ubc1c\ud589/\uc18c\uac01 \ud2b8\ub79c\uc7ad\uc158\uc744 \uba85\uc2dc\uc801\uc73c\ub85c `world_state.transactions`\uc5d0 \ud050\uc789\ud558\uc5ec `MonetaryLedger`\uac00 \uc774\ub97c \uac10\uc9c0\ud560 \uc218 \uc788\uac8c \ud558\uc2ed\uc2dc\uc624.\n2. **ID Type Mismatch \ud574\uacb0**: `world_state.py`\uc758 `calculate_total_money`\uc5d0\uc11c ID \ube44\uad50 \uc2dc `str()`\uc744 \uc0ac\uc6a9\ud558\uc5ec \uc815\uc218/\ubb38\uc790\uc5f4 \ubd88\uc77c\uce58\ub85c \uc778\ud55c \ud569\uc0b0 \ub204\ub77d\uc744 \ubc29\uc9c0\ud558\uc2ed\uc2dc\uc624.\n3. **M2 Perimeter \uc77c\uce58**: M2 \ud569\uc0b0 \uc2dc `ID_PUBLIC_MANAGER(4)`\uc640 `ID_SYSTEM(5)`\ub97c \uc81c\uc678\ud558\uc5ec `MonetaryLedger`\uc758 \uc2dc\uc2a4\ud15c \uc5d0\uc774\uc804\ud2b8 \uc815\uc758\uc640 \ub3d9\uae30\ud654\ud558\uc2ed\uc2dc\uc624.\n4. **\uc911\ubcf5 \uacc4\uc0b0 \uc81c\uac70**: `TickOrchestrator`\uc5d0\uc11c `Phase_MonetaryProcessing`\uc744 \uc81c\uac70\ud558\uace0, `Phase3_Transaction`\uc5d0 \ud1b5\ud569\ub41c \ub85c\uc9c1\ub9cc \uc0ac\uc6a9\ud558\ub3c4\ub85d \uc815\ub9ac\ud558\uc2ed\uc2dc\uc624.\n5. **Forensics \uac80\uc99d**: \uc218\uc815 \ud6c4 `python scripts/operation_forensics.py`\ub97c \uc2e4\ud589\ud558\uc5ec Tick 1\uc758 102M \uc810\ud504\uc640 2.6B \ub204\ucd9c\uc774 0\uc73c\ub85c \uc218\ub834\ud558\ub294\uc9c0 \ud655\uc778\ud558\uc2ed\uc2dc\uc624.",
      "command": "create",
      "file_path": "c:/coding/economics/gemini-output/spec/MISSION_wave5_monetary_audit_SPEC.md",
      "wait": false,
      "session_id": null,
      "worker": null,
      "context_files": [],
      "output_path": null,
      "model": null,
      "audit_requirements": null
    },
    "WO-WAVE6-RESTORATION-SPEC": {
      "key": "WO-WAVE6-RESTORATION-SPEC",
      "title": "Wave 6: Tooling Restoration & Domain Hardening Spec",
      "type": "gemini",
      "instruction_raw": "Generate a comprehensive Integrated Mission Guide for Wave 6. Focus on: 1) Restoring 'ContextInjectorService' in 'dispatchers.py' using lazy imports to resolve circular dependencies. 2) Implementing a 'DefaultTransferHandler' for legacy 'transfer' type transactions to ensure ledger visibility (resolving TD-SYS-TRANSFER-HANDLER-GAP). 3) Auditing 'LaborTransactionHandler' and 'models.py' to enforce 'total_pennies' SSoT and resolve unit inconsistencies (dollars vs pennies). Reference 'QUICKSTART.md' for architectural standards.",
      "command": null,
      "file_path": null,
      "wait": false,
      "session_id": null,
      "worker": "spec",
      "context_files": [
        "_internal/registry/commands/dispatchers.py",
        "simulation/initialization/initializer.py",
        "simulation/systems/transaction_processor.py",
        "simulation/systems/handlers/labor_handler.py",
        "simulation/models.py",
        "simulation/systems/settlement_system.py",
        "design/QUICKSTART.md",
        "design/HANDOVER.md",
        "design/2_operations/ledgers/TECH_DEBT_LEDGER.md"
      ],
      "output_path": "gemini-output/spec/MISSION_wave6_restoration_SPEC.md",
      "model": null,
      "audit_requirements": null
    },
    "WO-WAVE6-SSOT-ENFORCEMENT": {
      "key": "WO-WAVE6-SSOT-ENFORCEMENT",
      "title": "Wave 6-3: Penny Standard SSoT Enforcement (Settlement + Labor)",
      "type": "jules",
      "instruction_raw": "Transaction \ub808\ucf54\ub4dc\uc758 \ub2e8\uc704 \uc815\ud569\uc131(Penny Standard)\uc744 \uac15\uc81c\ud558\uc2ed\uc2dc\uc624.\n\n1. **SettlementSystem \uc218\uc815**: `settlement_system.py`\uc758 `_create_transaction_record()`\uc5d0\uc11c Transaction \uc0dd\uc131 \uc2dc:\n   - `quantity`\ub97c `1.0`\uc73c\ub85c \ubcc0\uacbd (\ud604\uc7ac `amount` \uc989 \ud398\ub2c8 \uac12\uc774 \ub4e4\uc5b4\uac00 \uc788\uc74c)\n   - `price`\ub97c `amount / 100.0`\uc73c\ub85c \ubcc0\uacbd (\ub2ec\ub7ec \ub2e8\uc704 \ud45c\uc2dc\uac00\uaca9)\n   - `total_pennies`\ub294 \uadf8\ub300\ub85c `amount` \uc720\uc9c0 (SSoT)\n\n2. **LaborTransactionHandler \uac10\uc0ac**: `labor_handler.py`\uc5d0\uc11c `TaxationSystem.calculate_tax_intents()`\uc5d0 \uc804\ub2ec\ub418\ub294 \uac12\uc774 `tx.total_pennies`(SSoT)\ub97c \uae30\ubc18\uc73c\ub85c \ud558\ub294\uc9c0 \ud655\uc778\ud558\uc2ed\uc2dc\uc624. \ub9cc\uc57d TaxationSystem\uc774 `tx.price * tx.quantity`\ub97c \uc0ac\uc6a9\ud55c\ub2e4\uba74, `tx.total_pennies`\ub97c \uc0ac\uc6a9\ud558\ub3c4\ub85d \uc218\uc815\ud558\uc2ed\uc2dc\uc624.\n\n3. **Mock \uc5c5\ub370\uc774\ud2b8**: Transaction\uc744 Mock\ud558\ub294 \ubaa8\ub4e0 \ud14c\uc2a4\ud2b8\uc5d0\uc11c `total_pennies`\uac00 \uba85\uc2dc\uc801\uc73c\ub85c \uc124\uc815\ub418\uc5b4 \uc788\ub294\uc9c0 \uc804\uc218\uc870\uc0ac\ud558\uc2ed\uc2dc\uc624. \ub204\ub77d\ub41c \uacbd\uc6b0 \ucd94\uac00\ud558\uc2ed\uc2dc\uc624.\n\n4. **\uac80\uc99d**: `pytest tests/` \uc804\uccb4 \uc2e4\ud589\ud558\uc5ec 100% \ud1b5\uacfc\ub97c \ud655\uc778\ud558\uc2ed\uc2dc\uc624. \ubcf4\uace0\uc11c\uc5d0 pytest \uc804\uccb4 \ucd9c\ub825\uc744 \ud3ec\ud568\ud558\uc2ed\uc2dc\uc624.",
      "command": "create",
      "file_path": "c:/coding/economics/gemini-output/spec/MISSION_wave6_restoration_SPEC.md",
      "wait": false,
      "session_id": null,
      "worker": null,
      "context_files": [],
      "output_path": null,
      "model": null,
      "audit_requirements": null
    },
    "WO-WAVE6-CONTEXT-INJECTOR": {
      "key": "WO-WAVE6-CONTEXT-INJECTOR",
      "title": "Wave 6-1: ContextInjectorService Restoration (Lazy Import)",
      "type": "jules",
      "instruction_raw": "dispatchers.py\uc5d0\uc11c ContextInjectorService\uc758 commented-out \ube14\ub85d\uc744 \ubcf5\uad6c\ud558\uc2ed\uc2dc\uc624.\n\n\u26a0\ufe0f \ud575\uc2ec \uc81c\uc57d: \uc21c\ud658 \ucc38\uc870 \ubc29\uc9c0\ub97c \uc704\ud574 \ubaa8\ub4e0 import\ub294 \ubc18\ub4dc\uc2dc execute() \uba54\uc11c\ub4dc \ub0b4\ubd80\uc5d0\uc11c lazy\ud558\uac8c \uc218\ud589\ud574\uc57c \ud569\ub2c8\ub2e4.\n\n1. **GeminiDispatcher.execute()**: \uba54\uc11c\ub4dc \ubcf8\ubb38 \ub0b4\uc5d0\uc11c `from _internal.scripts.core.context_injector.service import ContextInjectorService`\ub97c import\ud558\uace0, \uae30\uc874 \uc8fc\uc11d \ucc98\ub9ac\ub41c context injection \ub85c\uc9c1\uc744 \ubcf5\uad6c\ud558\uc2ed\uc2dc\uc624.\n2. **JulesDispatcher.execute()**: \ub3d9\uc77c\ud55c \ud328\ud134\uc73c\ub85c lazy import \ubc0f context injection \ub85c\uc9c1\uc744 \ubcf5\uad6c\ud558\uc2ed\uc2dc\uc624.\n3. **\uac80\uc99d**: `python -c \"from _internal.registry.commands.dispatchers import GeminiDispatcher, JulesDispatcher; print('OK')\"` \uc2e4\ud589\ud558\uc5ec import \uc5d0\ub7ec\uac00 \uc5c6\uc74c\uc744 \ud655\uc778\ud558\uc2ed\uc2dc\uc624.\n4. **\ud14c\uc2a4\ud2b8**: `pytest tests/ -k dispatcher` \uc2e4\ud589\ud558\uc5ec \uad00\ub828 \ud14c\uc2a4\ud2b8 \ud1b5\uacfc\ub97c \ud655\uc778\ud558\uc2ed\uc2dc\uc624.",
      "command": "create",
      "file_path": "c:/coding/economics/gemini-output/spec/MISSION_wave6_restoration_SPEC.md",
      "wait": false,
      "session_id": null,
      "worker": null,
      "context_files": [],
      "output_path": null,
      "model": null,
      "audit_requirements": null
    },
    "WO-WAVE6-TRANSFER-HANDLER": {
      "key": "WO-WAVE6-TRANSFER-HANDLER",
      "title": "Wave 6-2: DefaultTransferHandler Implementation (TD-SYS-TRANSFER-HANDLER-GAP)",
      "type": "jules",
      "instruction_raw": "SettlementSystem\uc774 \uc0dd\uc131\ud558\ub294 'transfer' \ud0c0\uc785 \ud2b8\ub79c\uc7ad\uc158\uc744 \uc704\ud55c \ud578\ub4e4\ub7ec\ub97c \uad6c\ud604\ud558\uc2ed\uc2dc\uc624.\n\n\u26a0\ufe0f \ud575\uc2ec \uc81c\uc57d: DefaultTransferHandler\ub294 \uc808\ub300\ub85c SettlementSystem.transfer()\ub97c \ud638\ucd9c\ud574\uc11c\ub294 \uc548 \ub429\ub2c8\ub2e4. SettlementSystem\uc774 \uc774\ubbf8 \uc790\uae08 \uc774\ub3d9\uc744 \uc644\ub8cc\ud55c \ud6c4 \ud2b8\ub79c\uc7ad\uc158 \ub808\ucf54\ub4dc\ub97c \uc0dd\uc131\ud558\ubbc0\ub85c, \ud578\ub4e4\ub7ec\ub294 MonetaryLedger \ucd94\uc801\uc744 \uc704\ud55c pass-through \uc5ed\ud560\ub9cc \ud569\ub2c8\ub2e4.\n\n1. **\uc2e0\uaddc \ud30c\uc77c**: `simulation/systems/handlers/transfer_handler.py`\uc5d0 `DefaultTransferHandler` \ud074\ub798\uc2a4\ub97c \uc0dd\uc131\ud558\uc2ed\uc2dc\uc624. `ITransactionHandler`\ub97c \uad6c\ud604\ud558\uba70, `handle()` \uba54\uc11c\ub4dc\ub294 \ub2e8\uc21c\ud788 `True`\ub97c \ubc18\ud658\ud569\ub2c8\ub2e4.\n2. **\ub4f1\ub85d**: `simulation/initialization/initializer.py`\uc5d0\uc11c `DefaultTransferHandler`\ub97c `'transfer'` \ud0c0\uc785\uc73c\ub85c `transaction_processor.register_handler()`\uc5d0 \ub4f1\ub85d\ud558\uc2ed\uc2dc\uc624.\n3. **\uac80\uc99d**: `python scripts/operation_forensics.py --ticks 10` \uc2e4\ud589 \ud6c4 \ub85c\uadf8\uc5d0\uc11c 'No handler for tx type: transfer' \uacbd\uace0\uac00 \uc0ac\ub77c\uc84c\ub294\uc9c0 \ud655\uc778\ud558\uc2ed\uc2dc\uc624.\n4. **\ud14c\uc2a4\ud2b8**: `pytest tests/ -k transaction` \uad00\ub828 \ud14c\uc2a4\ud2b8 \ud1b5\uacfc\ub97c \ud655\uc778\ud558\uc2ed\uc2dc\uc624.",
      "command": "create",
      "file_path": "c:/coding/economics/gemini-output/spec/MISSION_wave6_restoration_SPEC.md",
      "wait": false,
      "session_id": null,
      "worker": null,
      "context_files": [],
      "output_path": null,
      "model": null,
      "audit_requirements": null
    }
  }
}