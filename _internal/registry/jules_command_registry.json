{
  "_meta": {
    "version": "1.0"
  },
  "missions": {
    "exec-test-regression-fix": {
      "key": "exec-test-regression-fix",
      "title": "Fix 3 Specific Test Regressions (Factory, Fiscal DTO, Mocks)",
      "type": "jules",
      "instruction_raw": "Fix the 3 specific test regressions identified in the regression spec.\n\n**Key Instructions:**\n1. **AgentFactory**: Add the missing `mock_config_module` fixture to `tests/simulation/factories/test_agent_factory.py`.\n2. **FiscalEngine**: Update `modules/government/engines/fiscal_engine.py` to access `MarketSnapshotDTO` and `FiscalStateDTO` using dot notation (attribute access), NOT dictionary subscription.\n3. **Integration Tests**: In `tests/integration/test_government_refactor_behavior.py`, ensure `mock_config` provides concrete float/int values for `WEALTH_TAX_THRESHOLD`, `UNEMPLOYMENT_BENEFIT_RATIO`, etc., to prevent `MagicMock < float` errors.\n\n**Constraint**: Ensure DTOs are treated as objects in the Engine and Mocks are strictly typed in tests.",
      "status": "pending",
      "created_at": "",
      "command": "create",
      "file_path": "design/3_work_artifacts/spec/TEST_REGRESSION_FIX_SPEC.md",
      "wait": 30,
      "session_id": null,
      "worker": null,
      "context_files": [],
      "output_path": null,
      "model": null,
      "audit_requirements": null
    },
    "exec-test-regression-fix-v2": {
      "key": "exec-test-regression-fix-v2",
      "title": "Fix FiscalEngine Test Regressions (DTO Instantiation)",
      "type": "jules",
      "instruction_raw": "Fix the persistent `AttributeError: 'dict' object has no attribute 'market_data'` in `tests/modules/government/engines/test_fiscal_engine.py`.\n\n**Key Instructions:**\n1. **Import DTO**: Add `from modules.system.api import MarketSnapshotDTO` to `tests/modules/government/engines/test_fiscal_engine.py`.\n2. **Refactor Tests**: specificially `test_decide_expansionary`, `test_decide_contractionary`, `test_evaluate_bailout_solvent`, and `test_evaluate_bailout_insolvent`.\n3. **Instantiation**: Replace raw dictionary `market` objects with proper `MarketSnapshotDTO` instances, ensuring `market_data` is populate correctly as a nested dictionary.\n   Example:\n   ```python\n   market = MarketSnapshotDTO(\n       tick=100,\n       market_signals={},\n       market_data={'current_gdp': 1000.0, 'inflation_rate_annual': 0.02} ...\n   )\n   ```\n**Goal**: Eliminate `AttributeError` by ensuring `FiscalEngine` receives a valid DTO.",
      "status": "pending",
      "created_at": "",
      "command": "create",
      "file_path": "design/3_work_artifacts/spec/TEST_REGRESSION_FIX_V2_SPEC.md",
      "wait": 30,
      "session_id": null,
      "worker": null,
      "context_files": [],
      "output_path": null,
      "model": null,
      "audit_requirements": null
    },
    "exec-final-test-fix": {
      "key": "exec-final-test-fix",
      "title": "Fix Final Test Regression (Government.py DTO Instantiation)",
      "type": "jules",
      "instruction_raw": "Fix the `AttributeError: 'dict' object has no attribute 'market_data'` error in `simulation/agents/government.py`.\n\n**Key Instructions:**\n1. Locate the `provide_firm_bailout` method in `simulation/agents/government.py`.\n2. Find the `market_snapshot` declaration (roughly line 522).\n3. Replace the raw dictionary instantiation with a proper `MarketSnapshotDTO` instance.\n   Example:\n   ```python\n   market_snapshot = MarketSnapshotDTO(\n       tick=current_tick,\n       market_signals={},\n       market_data={\n           \"inflation_rate_annual\": 0.0,\n           \"current_gdp\": 0.0\n       }\n   )\n   ```\n**Goal**: Ensure `self.fiscal_engine.decide` receives the correct DTO dataclass, resolving the integration test failure.",
      "status": "pending",
      "created_at": "",
      "command": "create",
      "file_path": "simulation/agents/government.py",
      "wait": 30,
      "session_id": null,
      "worker": null,
      "context_files": [],
      "output_path": null,
      "model": null,
      "audit_requirements": null
    }
  }
}